!function(e){function o(){a&&(a.abort(),a=null)}function t(e,t,l){var i=n===e;return i||o(),n=e,r[e]?t(r[e]):e?(i||(a=new XMLHttpRequest),a.onprogress=l,a.onload=function(){t(2===Math.floor(a.status/100)?r[e]=a.response:null)},void(i||(a.onerror=function(){a.onerror=function(){t(null)},a.open("GET","https://cors-proxy.emn178.workers.dev/"+e),a.send()},a.open("GET",e),a.responseType="blob",a.send()))):t(null)}e.ot=e.ot||{};var n,a,r={};if(ot.cancelGetBlob=o,ot.getBlob=t,e.$){$.fn.droppableFile=function(e){var o=!1;o&&(o=!0,$(document.body).bind("dragover drop",function(e){return e.preventDefault(),!1})),this.each(function(){var e=$(this),o=e.find("input"),t=e.find(".droppable-zone-text"),n=t.text();e.on("dragover",function(){e.addClass("hover")}),e.on("dragleave",function(){e.removeClass("hover")}),e.on("drop",function(n){e.removeClass("hover");var a=n.originalEvent.dataTransfer.files;o[0].files=a,t.text(a[0].name),e.trigger("droppableFile:change",[a])}),o.on("change",function(){var a=o[0].files;a[0]?t.text(a[0].name):t.text(n),e.trigger("droppableFile:change",[a])})})},$(".droppable-zone").droppableFile();var l=$("#droppable-zone");if(0!==l.length){var i=$("#file-type"),d=$("#url"),u=$("#output");if(!e.FileReader)return u.text("Your browser does not support."),void $("input").attr("disabled",!0);var f;l.on("droppableFile:change",function(e,o){v=f=o[0],v||u.val(""),ot.autoUpdate()});var c=function(){if("url"===i.val()){u.val("download...");var e=d.val();t(e,function(o){o?(v=o,ot.autoUpdate()):(v=null,u.val(e?"download failed":""))},function(e){var o=(e.loaded/e.total*100).toFixed(2)+"%";u.val("download..."+o)})}};d.bind("input propertychange change",c);var p=function(){s&&(s.abort(),s=null)};i.change(function(){u.val(""),"url"===i.val()?(p(),d.show(),l.hide(),v=null,c()):(o(),d.hide(),l.show(),v=f),ot.autoUpdate()}),i.change();var v,s;ot.setExecute(function(){if(p(),v&&(!method.loadHmac||!1!==method.loadHmac())){var o=e.PROCESSING_MESSAGE||"hashing...";if(s=new FileReader,method.update){var t=e.FILE_BATCH_SIZE||2097152,n=0,a=v.size,r=method;s.onload=function(e){try{r=r.update(e.target.result),l()}catch(e){u.val(e)}};var l=function(){if(n<a){u.val(o+(n/a*100).toFixed(2)+"%");var e=Math.min(n+t,a);s.readAsArrayBuffer(v.slice(n,e)),n=e}else ot.handleOutput(r.hex())};l()}else u.val(o),s.onload=function(e){try{ot.handleOutput(method(e.target.result))}catch(e){u.val(e)}},s.readAsArrayBuffer(v)}})}}}(window);